<!DOCTYPE html>
<html>
<head>
	<title>Piano</title>
	<link rel="stylesheet" type="text/css" href="style.css">

</head>
<body>

<div class="piano">
	<div data-note="C" class="key white"></div>
	<div data-note="Db" class="key black"></div>
	<div data-note="D" class="key white"></div>
	<div data-note="Eb" class="key black"></div>
	<div data-note="E" class="key white"></div>
	<div data-note="F" class="key white"></div>
	<div data-note="Gb" class="key black"></div>
	<div data-note="G" class="key white"></div>
	<div data-note="A" class="key black"></div>
	<div data-note="Ab" class="key white"></div>
	<div data-note="Bb" class="key black"></div>
	<div data-note="B" class="key white"></div>
</div>
<div class="audios">
	<audio id="C" src="C.mp3"></audio>
	<audio id="Db" src="Db.mp3"></audio>
	<audio id="D" src="D.mp3"></audio>
	<audio id="Eb" src="Eb.mp3"></audio>
	<audio id="E" src="E.mp3"></audio>
	<audio id="F" src="F.mp3"></audio>
	<audio id="Gb" src="Gb.mp3"></audio>
	<audio id="G" src="G.mp3"></audio>
	<audio id="Ab" src="Ab.mp3"></audio>
	<audio id="A" src="A.mp3"></audio>
	<audio id="Bb" src="Bb.mp3"></audio>
	<audio id="B" src="B.mp3"></audio>
</div>



<script>

var keys = document.querySelectorAll(".key")

keys.forEach(key=>{
	key.addEventListener('click',()=>playnote(key))
}


)

console.log(key);
//for(key of keys){
//	key.addEventListener('click',()=>playnote(key))
//}


function playnote(key){
	var noteaudio = document.getElementById(key.dataset.note);
		noteaudio.currentTime = 0;
	    noteaudio.play();
	    key.classList.add('active');
	    noteaudio.addEventListener('ended',()=>{
	    	key.classList.remove('active');
	    })
	    
}


</script>
</body>

</html>